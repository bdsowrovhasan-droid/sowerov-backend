PORT=5050
JWT_SECRET=change_this_secret_in_production
ORIGIN=http://localhost:5173

# --- S3 / CDN / Redis ---
S3_ENDPOINT=https://s3.wasabisys.com
S3_REGION=us-east-1
S3_ACCESS_KEY=YOUR_WASABI_KEY
S3_SECRET_KEY=YOUR_WASABI_SECRET
S3_BUCKET=your-bucket-name

CDN_BASE_URL=https://cdn.yourdomain.com
REDIS_URL=redis://127.0.0.1:6379


# --- Security extras ---
ENFORCE_HTTPS=true
ORIGIN=https://yourdomain.com,https://admin.yourdomain.com

# CSP: add more domains as needed (space/comma separated allowed)
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self' https://www.google.com https://www.gstatic.com https://cdn.socket.io https://unpkg.com
CSP_STYLE_SRC='self' 'unsafe-inline' https://unpkg.com
CSP_IMG_SRC='self' data: blob:
CSP_MEDIA_SRC='self' https://cdn.yourdomain.com
CSP_CONNECT_SRC='self' https://cdn.yourdomain.com
CSP_FRAME_SRC=https://www.google.com
CSP_OBJECT_SRC='none'

# Admin IP allowlist (comma-separated). Leave empty to disable.
ADMIN_IPS=127.0.0.1,::1

# reCAPTCHA (v2 checkbox or v3) - set to enable checks on login/register/upload
RECAPTCHA_ENABLED=false
RECAPTCHA_SECRET=YOUR_RECAPTCHA_SECRET
RECAPTCHA_MIN_SCORE=0.5  # (v3 only)

# Signed cookies for auth
COOKIE_SECRET=change_this_cookie_secret
AUTH_COOKIE_NAME=sb_auth


# === AI Moderation ===
AI_MOD_ENABLED=true
AI_MOD_PROVIDER=generic       # generic | openai | hf | custom
AI_MOD_ENDPOINT=https://your-ai-moderation-endpoint
AI_MOD_API_KEY=REPLACE_ME
AI_MOD_THRESHOLD=0.70         # 0..1 (reject if >= threshold for disallowed)
AI_MOD_VIDEO_FRAME_INTERVAL=10  # seconds between sampled frames for image checks


# === AI Recommendation ===
AI_REC_ENABLED=true
AI_REC_PROVIDER=generic        # generic | openai | hf | custom
AI_REC_ENDPOINT=https://your-embedding-endpoint
AI_REC_API_KEY=REPLACE_ME
AI_REC_DIM=768
AI_REC_WEIGHTS=0.6,0.3,0.1     # similarity, popularity, freshness
AI_REC_BACKFILL_BATCH=200


# === SMTP (Amazon SES) ===
SMTP_HOST=email-smtp.us-east-1.amazonaws.com
SMTP_PORT=587
SMTP_USER=YOUR_SES_SMTP_USERNAME
SMTP_PASS=YOUR_SES_SMTP_PASSWORD
SMTP_FROM="Sadibook OTP" <no-reply@yourdomain.com>
SMTP_POOL=true
SMTP_SECURE=false         # false for STARTTLS on 587, true for SMTPS on 465
SMTP_RATE_PER_MIN=30      # soft limit per process

# Set to true after you move SES out of Sandbox and verify domain/sender
SMTP_ENABLED=true
